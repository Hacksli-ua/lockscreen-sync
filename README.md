# LockScreen Sync

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —à–ø–∞–ª–µ—Ä —Ä–æ–±–æ—á–æ–≥–æ —Å—Ç–æ–ª—É –∑ –µ–∫—Ä–∞–Ω–æ–º –±–ª–æ–∫—É–≤–∞–Ω–Ω—è Windows 10/11.

## –û–ø–∏—Å

LockScreen Sync ‚Äî —Ü–µ –ª–µ–≥–∫–∞ —É—Ç–∏–ª—ñ—Ç–∞ –¥–ª—è Windows, —è–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î —à–ø–∞–ª–µ—Ä–∏ —Ä–æ–±–æ—á–æ–≥–æ —Å—Ç–æ–ª—É —è–∫ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –µ–∫—Ä–∞–Ω—É –±–ª–æ–∫—É–≤–∞–Ω–Ω—è. –ü—Ä–æ–≥—Ä–∞–º–∞ –ø—Ä–∞—Ü—é—î —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É —Ç—Ä–µ—ó —Ç–∞ –≤—ñ–¥—Å—Ç–µ–∂—É—î –∑–º—ñ–Ω–∏ —à–ø–∞–ª–µ—Ä.

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —à–ø–∞–ª–µ—Ä –∑ –µ–∫—Ä–∞–Ω–æ–º –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
- üñ•Ô∏è –†–æ–±–æ—Ç–∞ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ (—Å–∏—Å—Ç–µ–º–Ω–∏–π —Ç—Ä–µ–π)
- ‚ö° –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–º—ñ–Ω —à–ø–∞–ª–µ—Ä —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- üöÄ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ Windows (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- üåç –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤ –≤ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä—ñ

## –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏

- Windows 10 / Windows 11
- –ü—Ä–∞–≤–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–¥–ª—è –∑–∞–ø–∏—Å—É –≤ —Ä–µ—î—Å—Ç—Ä)

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ß–µ—Ä–µ–∑ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ `LockScreenSync_Setup.exe` –∑ –ø–∞–ø–∫–∏ `installer/`
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä
3. –û–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—ó:
   - ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ Windows
   - ‚¨ú –°—Ç–≤–æ—Ä–∏—Ç–∏ —è—Ä–ª–∏–∫ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏"

### –ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞ –≤–µ—Ä—Å—ñ—è

1. –°–∫–æ–ø—ñ—é–π—Ç–µ `LockScreenSync.exe` –≤ –±—É–¥—å-—è–∫—É –ø–∞–ø–∫—É
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≤—ñ–¥ —ñ–º–µ–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–∞ –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É —Ç—Ä–µ—ó.

### –ú–µ–Ω—é —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ç—Ä–µ—é:

| –ü—É–Ω–∫—Ç –º–µ–Ω—é | –û–ø–∏—Å |
|------------|------|
| üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –∑–∞—Ä–∞–∑ | –ü—Ä–∏–º—É—Å–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —à–ø–∞–ª–µ—Ä |
| ‚úÖ –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è | –£–≤—ñ–º–∫–Ω—É—Ç–∏/–≤–∏–º–∫–Ω—É—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ |
| üìÅ [—ñ–º'—è —Ñ–∞–π–ª—É] | –ü–æ–∫–∞–∑—É—î –ø–æ—Ç–æ—á–Ω–∏–π —Ñ–∞–π–ª —à–ø–∞–ª–µ—Ä |
| ‚ùå –í–∏–π—Ç–∏ | –ó–∞–∫—Ä–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É |

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. –ü—Ä–æ–≥—Ä–∞–º–∞ –æ—Ç—Ä–∏–º—É—î —à–ª—è—Ö –¥–æ –ø–æ—Ç–æ—á–Ω–∏—Ö —à–ø–∞–ª–µ—Ä —Ä–æ–±–æ—á–æ–≥–æ —Å—Ç–æ–ª—É –∑ —Ä–µ—î—Å—Ç—Ä—É Windows
2. –ö–æ–ø—ñ—é—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ `C:\Users\Public\Pictures\LockScreenWallpaper.jpg`
3. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î —Ü–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —è–∫ –µ–∫—Ä–∞–Ω –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑:
   - `HKLM\SOFTWARE\Policies\Microsoft\Windows\Personalization\LockScreenImage`
   - `HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\PersonalizationCSP`
4. –ö–æ–∂–Ω—ñ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –∑–º—ñ–Ω–∏–ª–∏—Å—å —à–ø–∞–ª–µ—Ä–∏

## –ó–±—ñ—Ä–∫–∞ –∑ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –∫–æ–¥—É

### –í–∏–º–æ–≥–∏

- Go 1.21+
- Inno Setup 6 (–¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∞)

### –ö–æ–º–∞–Ω–¥–∏ –∑–±—ñ—Ä–∫–∏

```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
go mod tidy

# –ó—ñ–±—Ä–∞—Ç–∏ exe
go build -ldflags="-H windowsgui -s -w" -o LockScreenSync.exe .

# –ó—ñ–±—Ä–∞—Ç–∏ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä
"C:\Program Files (x86)\Inno Setup 6\ISCC.exe" setup.iss
```

–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≥–æ—Ç–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏:
- `build.bat` ‚Äî –∑–±—ñ—Ä–∫–∞ exe
- `build_installer.bat` ‚Äî –∑–±—ñ—Ä–∫–∞ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
lockscreen-sync/
‚îú‚îÄ‚îÄ main.go                 # –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–∏
‚îú‚îÄ‚îÄ go.mod                  # Go –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ go.sum                  # –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ —Å—É–º–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ setup.iss               # –°–∫—Ä–∏–ø—Ç Inno Setup
‚îú‚îÄ‚îÄ icon.ico                # –Ü–∫–æ–Ω–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∏
‚îú‚îÄ‚îÄ icon.png                # PNG –≤–µ—Ä—Å—ñ—è —ñ–∫–æ–Ω–∫–∏
‚îú‚îÄ‚îÄ build.bat               # –°–∫—Ä–∏–ø—Ç –∑–±—ñ—Ä–∫–∏ exe
‚îú‚îÄ‚îÄ build_installer.bat     # –°–∫—Ä–∏–ø—Ç –∑–±—ñ—Ä–∫–∏ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä–∞
‚îî‚îÄ‚îÄ installer/
    ‚îî‚îÄ‚îÄ LockScreenSync_Setup.exe  # –ì–æ—Ç–æ–≤–∏–π —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä
```

## –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

- [systray](https://github.com/getlantern/systray) ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∏–π —Ç—Ä–µ–π
- [golang.org/x/sys](https://pkg.go.dev/golang.org/x/sys) ‚Äî Windows API

## –í–∏–¥–∞–ª–µ–Ω–Ω—è

### –ß–µ—Ä–µ–∑ Windows
–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ ‚Üí –ü—Ä–æ–≥—Ä–∞–º–∏ ‚Üí –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ ‚Üí LockScreen Sync ‚Üí –í–∏–¥–∞–ª–∏—Ç–∏

### –í—Ä—É—á–Ω—É
1. –ó–∞–∫—Ä–∏–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º—É (–ü–ö–ú –Ω–∞ —ñ–∫–æ–Ω—Ü—ñ –≤ —Ç—Ä–µ—ó ‚Üí –í–∏–π—Ç–∏)
2. –í–∏–¥–∞–ª—ñ—Ç—å –ø–∞–ø–∫—É `C:\Program Files\LockScreen Sync`
3. –í–∏–¥–∞–ª—ñ—Ç—å –∫–ª—é—á —Ä–µ—î—Å—Ç—Ä—É `HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run\LockScreenSync`

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## –ê–≤—Ç–æ—Ä

LockScreen Sync
